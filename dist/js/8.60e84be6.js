"use strict";(self["webpackChunkproyecto_final"]=self["webpackChunkproyecto_final"]||[]).push([[8],{5815:function(l,e,a){a.d(e,{Z:function(){return C}});var t=a(3396),n=a(9242),i=a.p+"img/logo.f337e303.png";const o=l=>((0,t.dD)("data-v-3829407f"),l=l(),(0,t.Cn)(),l),s={id:"logo-cli",class:"logo",style:{display:"none"}},r=o((()=>(0,t._)("img",{class:"logoImg",src:i,alt:"COMBOI"},null,-1))),c={id:"cliente-link",class:"container",style:{display:"none"}},d=o((()=>(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-person-circle",viewBox:"0 0 16 16"},[(0,t._)("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}),(0,t._)("path",{"fill-rule":"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"})],-1))),u=o((()=>(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-box-arrow-right",viewBox:"0 0 16 16"},[(0,t._)("path",{"fill-rule":"evenodd",d:"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"}),(0,t._)("path",{"fill-rule":"evenodd",d:"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"})],-1))),h=[u],v={id:"logo-admin",class:"logo",style:{display:"none"}},_=o((()=>(0,t._)("img",{class:"logoImg",src:i,alt:"COMBOI"},null,-1))),g={id:"admin-link",class:"container",style:{display:"none"}},p=o((()=>(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-person-circle",viewBox:"0 0 16 16"},[(0,t._)("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}),(0,t._)("path",{"fill-rule":"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"})],-1))),m=o((()=>(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",class:"bi bi-box-arrow-right",viewBox:"0 0 16 16"},[(0,t._)("path",{"fill-rule":"evenodd",d:"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"}),(0,t._)("path",{"fill-rule":"evenodd",d:"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"})],-1))),w=[m];function f(l,e,a,i,o,u){const m=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("nav",null,[(0,t._)("div",s,[(0,t.Wm)(m,{to:"/cliente",class:"navbar-brand font-effect-3d"},{default:(0,t.w5)((()=>[r])),_:1})]),(0,t._)("div",c,[(0,t.Wm)(m,{to:"/cliente"},{default:(0,t.w5)((()=>[(0,t.Uk)("Home")])),_:1}),(0,t.Wm)(m,{to:"/about"},{default:(0,t.w5)((()=>[(0,t.Uk)("About")])),_:1}),(0,t.Wm)(m,{to:"/contact"},{default:(0,t.w5)((()=>[(0,t.Uk)("Contact")])),_:1}),(0,t.Wm)(m,{to:"/perfil/"+o.clienteActual},{default:(0,t.w5)((()=>[d])),_:1},8,["to"]),(0,t._)("a",{onClick:e[0]||(e[0]=(0,n.iM)(((...l)=>u.cerrarSesion&&u.cerrarSesion(...l)),["prevent"])),href:""},h)]),(0,t._)("div",v,[(0,t.Wm)(m,{to:"/admin",class:"navbar-brand font-effect-3d"},{default:(0,t.w5)((()=>[_])),_:1})]),(0,t._)("div",g,[(0,t.Wm)(m,{to:"/admin"},{default:(0,t.w5)((()=>[(0,t.Uk)("Home")])),_:1}),(0,t.Wm)(m,{to:"/perfil/"+o.clienteActual},{default:(0,t.w5)((()=>[p])),_:1},8,["to"]),(0,t._)("a",{onClick:e[1]||(e[1]=(0,n.iM)(((...l)=>u.cerrarSesion&&u.cerrarSesion(...l)),["prevent"])),href:""},w)])])}a(7658);var b=a(6052),y=a.n(b),z={name:"navBar",data(){return{clienteActual:null}},methods:{async carregarDatos(){const l=localStorage.getItem("user-token"),e=y().decode(l),a=e.id;this.clienteActual=a;const t=e.role;if("ROLE_ADMIN"===t){const l=document.getElementById("logo-admin");l.style.display="block";const e=document.getElementById("admin-link");e.style.display="block"}else{const l=document.getElementById("logo-cli");l.style.display="block";const e=document.getElementById("cliente-link");e.style.display="block"}},cerrarSesion(){localStorage.clear(),this.$router.push({name:"LoginView"})}},async mounted(){let l=localStorage.getItem("user-token");l?this.carregarDatos():this.$router.push({name:"LoginView"})}},k=a(89);const A=(0,k.Z)(z,[["render",f],["__scopeId","data-v-3829407f"]]);var C=A},9753:function(l,e,a){a.r(e),a.d(e,{default:function(){return j}});var t=a(3396),n=a(7139),i=a(9242);const o=l=>((0,t.dD)("data-v-318ab65c"),l=l(),(0,t.Cn)(),l),s={class:"wrapper"},r={class:"left"},c=o((()=>(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",fill:"currentColor",class:"bi bi-person-circle",viewBox:"0 0 16 16"},[(0,t._)("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}),(0,t._)("path",{"fill-rule":"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"})],-1))),d=o((()=>(0,t._)("br",null,null,-1))),u=o((()=>(0,t._)("br",null,null,-1))),h={class:"right"},v={class:"info"},_=o((()=>(0,t._)("h3",null,"Informaciones Personales",-1))),g={class:"info_data"},p={class:"data"},m=o((()=>(0,t._)("h4",null,"Edad",-1))),w={class:"data"},f=o((()=>(0,t._)("h4",null,"Teléfono móvil",-1))),b={class:"info_data"},y={class:"data"},z=o((()=>(0,t._)("h4",null,"Genero",-1))),k={class:"data"},A=o((()=>(0,t._)("h4",null,"Domicilio",-1))),C={class:"info_data"},M={class:"data"},x=o((()=>(0,t._)("h4",null,"Población",-1))),I={class:"data"},B=o((()=>(0,t._)("h4",null,"Provincia",-1))),S={class:"info_data"},D={class:"data"},E=o((()=>(0,t._)("h4",null,"País",-1))),L={class:"data"},W=o((()=>(0,t._)("h4",null,"Código Postal",-1))),V={class:"info_data"},Z={class:"data"},$=o((()=>(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-trash3-fill",viewBox:"0 0 16 16"},[(0,t._)("path",{d:"M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5Zm-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5ZM4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5Z"})],-1))),H={class:"data"},P=o((()=>(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-pencil-fill",viewBox:"0 0 16 16"},[(0,t._)("path",{d:"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"})],-1)));function U(l,e,a,o,U,O){const T=(0,t.up)("Navbar"),N=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(T),(0,t._)("body",null,[(0,t._)("div",s,[(0,t._)("div",r,[c,d,u,(0,t._)("h1",null,(0,n.zw)(U.cliente.nombre)+" "+(0,n.zw)(U.cliente.apellido),1)]),(0,t._)("div",h,[(0,t._)("div",v,[_,(0,t._)("div",g,[(0,t._)("div",p,[m,(0,t._)("p",null,(0,n.zw)(U.cliente.edad),1)]),(0,t._)("div",w,[f,(0,t._)("p",null,(0,n.zw)(U.cliente.mobile),1)])]),(0,t._)("div",b,[(0,t._)("div",y,[z,(0,t._)("p",null,(0,n.zw)(U.cliente.genero),1)]),(0,t._)("div",k,[A,(0,t._)("p",null,(0,n.zw)(U.cliente.direccion),1)])]),(0,t._)("div",C,[(0,t._)("div",M,[x,(0,t._)("p",null,(0,n.zw)(U.cliente.poblacion),1)]),(0,t._)("div",I,[B,(0,t._)("p",null,(0,n.zw)(U.cliente.provincia),1)])]),(0,t._)("div",S,[(0,t._)("div",D,[E,(0,t._)("p",null,(0,n.zw)(U.cliente.pais),1)]),(0,t._)("div",L,[W,(0,t._)("p",null,(0,n.zw)(U.cliente.codigopostal),1)])])]),(0,t._)("div",V,[(0,t._)("div",Z,[(0,t._)("button",{class:"btn btn-danger mx-2 button",onClick:e[0]||(e[0]=(0,i.iM)((l=>O.deleteClient(U.cliente.id)),["prevent"]))},[$,(0,t.Uk)(" Eliminar ")])]),(0,t._)("div",H,[(0,t.Wm)(N,{to:"/update/"+U.cliente.id,class:"btn btn-primary button2"},{default:(0,t.w5)((()=>[P,(0,t.Uk)(" Actualizar ")])),_:1},8,["to"])])])])])])],64)}a(7658);var O=a(5815),T={name:"vistaPerfile",components:{Navbar:O.Z},data(){return{cliente:[]}},methods:{async deleteClient(l){const e=localStorage.getItem("user-token"),a=await fetch(`http://127.0.0.1:8000/api/user/delete/${l}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});200===a.status&&(localStorage.clear(),this.$router.push({name:"LoginView"}),alert("Tu cuenta esta eliminada correctamente!"))},async carregarDatos(){const l=localStorage.getItem("user-token");fetch(`http://127.0.0.1:8000/api/user/clientes/${this.$route.params.id}`,{method:"GET",headers:{Authorization:`Bearer ${l}`}}).then((l=>l.json())).then((l=>{console.log(l),this.cliente=l})).catch((l=>{console.error(l)}))}},async mounted(){let l=localStorage.getItem("user-token");l?this.carregarDatos():this.$router.push({name:"LoginView"})}},N=a(89);const G=(0,N.Z)(T,[["render",U],["__scopeId","data-v-318ab65c"]]);var j=G}}]);
//# sourceMappingURL=8.60e84be6.js.map